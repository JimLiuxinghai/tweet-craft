<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notion 按钮功能测试</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .feature-list {
            background: #f8f9fa;
            border-left: 4px solid #007AFF;
            padding: 20px;
            margin: 20px 0;
        }
        .feature-list h3 {
            margin-top: 0;
            color: #333;
        }
        .feature-list ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .feature-list li {
            margin: 8px 0;
            line-height: 1.5;
        }
        .status {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: 500;
        }
        .status.success {
            background: #D1F2EB;
            color: #00695C;
            border: 1px solid #4CAF50;
        }
        .status.info {
            background: #E3F2FD;
            color: #1565C0;
            border: 1px solid #2196F3;
        }
        .notion-icon-demo {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 34.75px;
            height: 34.75px;
            border-radius: 50%;
            background: rgba(55, 53, 47, 0.1);
            margin: 0 10px;
        }
        .notion-icon-demo svg {
            width: 18.75px;
            height: 18.75px;
            fill: rgb(55, 53, 47);
        }
        .button-preview {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            margin: 15px 0;
        }
        .mock-twitter-actions {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: white;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
        }
        .mock-action-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 34.75px;
            height: 34.75px;
            border-radius: 50%;
            border: none;
            background: transparent;
            color: rgb(83, 100, 113);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .mock-action-btn:hover {
            background-color: rgba(29, 155, 240, 0.1);
            color: rgb(29, 155, 240);
        }
        .mock-action-btn.notion:hover {
            background-color: rgba(55, 53, 47, 0.1);
            color: rgb(55, 53, 47);
        }
        code {
            background: #f1f3f4;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
        }
        .workflow {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .workflow h3 {
            color: #856404;
            margin-top: 0;
        }
        .workflow ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        .workflow li {
            margin: 8px 0;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚀 Notion 按钮功能测试</h1>
        
        <div class="status success">
            ✅ Notion 按钮已成功添加到操作栏！
        </div>

        <div class="feature-list">
            <h3>🎯 新增功能特性</h3>
            <ul>
                <li><strong>Notion 图标按钮</strong>：使用官方 Notion logo 设计</li>
                <li><strong>一键保存</strong>：点击即可将推文保存到 Notion 数据库</li>
                <li><strong>智能去重</strong>：自动检查推文是否已存在，避免重复保存</li>
                <li><strong>自动标签</strong>：根据推文内容自动生成相关标签</li>
                <li><strong>状态反馈</strong>：提供加载、成功、错误等状态提示</li>
                <li><strong>多语言支持</strong>：支持中文、英文等多种语言</li>
            </ul>
        </div>

        <div class="button-preview">
            <h3>按钮预览：</h3>
            <div class="mock-twitter-actions">
                <!-- 模拟Twitter原生按钮 -->
                <button class="mock-action-btn" title="回复">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                    </svg>
                </button>
                <button class="mock-action-btn" title="转推">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 1l4 4-4 4"/>
                        <path d="M3 11V9a4 4 0 0 1 4-4h14"/>
                        <path d="M7 23l-4-4 4-4"/>
                        <path d="M21 13v2a4 4 0 0 1-4 4H3"/>
                    </svg>
                </button>
                <button class="mock-action-btn" title="点赞">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                    </svg>
                </button>
                <button class="mock-action-btn" title="书签">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
                    </svg>
                </button>
                <!-- 新增的按钮 -->
                <button class="mock-action-btn" title="复制推文">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                        <rect width="14" height="14" x="8" y="8" rx="2" ry="2"/>
                        <path d="M4 16c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2"/>
                    </svg>
                </button>
                <button class="mock-action-btn" title="截图">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3Z"/>
                        <circle cx="12" cy="13" r="3"/>
                    </svg>
                </button>
                <!-- 新的Notion按钮 -->
                <button class="mock-action-btn notion" title="保存到 Notion">
                    <svg viewBox="0 0 24 24" width="18.75" height="18.75" fill="currentColor">
                        <path d="M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.533 2.281c-.466.047-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.933zm14.337-.42c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952L12.21 19s0 .84-1.168.84l-3.222.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.139c-.093-.514.28-.887.747-.933z"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="workflow">
            <h3>🔄 使用流程</h3>
            <ol>
                <li><strong>前置条件</strong>：确保已在扩展设置中连接 Notion 并配置数据库</li>
                <li><strong>浏览推文</strong>：在 Twitter/X 网站上浏览推文</li>
                <li><strong>点击按钮</strong>：点击推文操作栏中的 Notion 图标</li>
                <li><strong>自动处理</strong>：系统自动提取推文数据并检查是否已存在</li>
                <li><strong>保存完成</strong>：推文数据保存到 Notion 数据库，显示成功提示</li>
            </ol>
        </div>

        <div class="feature-list">
            <h3>🛠️ 技术实现</h3>
            <ul>
                <li><strong>按钮集成</strong>：无缝集成到 Twitter 原生操作栏</li>
                <li><strong>数据提取</strong>：智能提取推文内容、作者、时间、媒体等信息</li>
                <li><strong>API 集成</strong>：通过 Notion API 直接保存到数据库</li>
                <li><strong>错误处理</strong>：完善的错误处理和用户反馈机制</li>
                <li><strong>状态管理</strong>：按钮状态（加载、成功、错误）动态更新</li>
            </ul>
        </div>

        <div class="status info">
            <strong>💡 提示</strong>：Notion 按钮会根据当前连接状态自动显示或隐藏。如果未连接 Notion，请先在扩展设置中进行配置。
        </div>

        <div class="feature-list">
            <h3>🎨 样式特性</h3>
            <ul>
                <li><strong>Twitter 风格</strong>：完全匹配 Twitter 原生按钮的外观和交互</li>
                <li><strong>悬停效果</strong>：鼠标悬停时显示 Notion 品牌色彩</li>
                <li><strong>状态动画</strong>：加载时旋转动画，成功/错误时缩放效果</li>
                <li><strong>响应式设计</strong>：适配不同屏幕尺寸和主题模式</li>
                <li><strong>无障碍支持</strong>：包含适当的 ARIA 标签和键盘导航支持</li>
            </ul>
        </div>

        <div class="feature-list">
            <h3>📊 保存的数据字段</h3>
            <ul>
                <li><strong>基本信息</strong>：标题、内容、作者、用户名、推文链接</li>
                <li><strong>时间信息</strong>：发布时间、保存时间</li>
                <li><strong>分类信息</strong>：推文类型、自动生成的标签</li>
                <li><strong>媒体信息</strong>：是否包含图片、视频、链接</li>
                <li><strong>互动数据</strong>：点赞数、转推数、回复数</li>
                <li><strong>状态字段</strong>：阅读状态、收藏状态、优先级</li>
            </ul>
        </div>

        <div style="text-align: center; margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
            <h3>🎉 功能已就绪！</h3>
            <p>现在可以在 Twitter 上测试 Notion 按钮功能了。</p>
            <p>如有任何问题，请检查浏览器控制台的调试信息。</p>
        </div>
    </div>
</body>
</html>
